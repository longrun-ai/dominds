# mcp_admin 错误处理

## 错误代码

### MCP_NOT_FOUND

**描述：** MCP 服务不存在。

**原因：**

- 指定的 MCP 服务标识符不存在
- MCP 服务已被删除

**解决方案：**

- 检查 MCP 服务标识符是否正确
- 确认 MCP 服务是否已注册

### MCP_NOT_RUNNING

**描述：** MCP 服务未运行。

**原因：**

- MCP 服务已停止
- MCP 服务未启动

**解决方案：**

- 启动 MCP 服务
- 检查 MCP 服务状态

### MCP_RESTART_FAILED

**描述：** MCP 服务重启失败。

**原因：**

- 服务正在忙
- 资源不足

**解决方案：**

- 等待一段时间后重试
- 释放一些资源后重试

### MCP_RELEASE_FAILED

**描述：** MCP 租约释放失败。

**原因：**

- 租约不存在
- 权限不足

**解决方案：**

- 检查租约状态
- 联系管理员

### ENV_NOT_FOUND

**描述：** 环境变量不存在。

**原因：**

- 环境变量未被设置
- 环境变量名称错误

**解决方案：**

- 检查环境变量名称
- 设置所需的环境变量

## 常见问题

### Q: MCP 租约是什么？

A: MCP 租约是管理 MCP 连接资源的机制，确保资源合理分配和释放。

### Q: 为什么需要释放 MCP 租约？

A: 不释放租约会导致资源泄漏，可能影响其他服务使用 MCP。

### Q: MCP 服务无法连接怎么办？

A: 尝试以下步骤：

1. 检查网络连接
2. 重启 MCP 服务
3. 检查认证配置

### Q: 如何查看 MCP 服务状态？

A: 可以通过相关命令查看 MCP 服务状态，或者查看日志获取详细信息。
