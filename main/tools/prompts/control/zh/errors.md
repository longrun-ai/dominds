# control 错误处理

## 错误代码

### REMINDER_NOT_FOUND

**描述：** 提醒编号不存在。

**原因：**

- 尝试访问的提醒编号不存在
- 提醒已被删除

**解决方案：**

- 使用正确的提醒编号
- 先使用 `add_reminder` 创建提醒

### REMINDER_INVALID_POSITION

**描述：** 提醒位置无效。

**原因：**

- 位置超出有效范围
- 位置格式不正确

**解决方案：**

- 确保位置在 1 到当前提醒数量之间
- 默认不指定位置，会追加到末尾

### TASKDOC_CATEGORY_INVALID

**描述：** 差遣牒类别无效。

**原因：**

- 类别目录不存在
- 类别名称错误

**解决方案：**

- 使用有效的类别名称
- 常用类别：goals、constraints、progress（顶层无需 category）

### TASKDOC_SELECTOR_INVALID

**描述：** 差遣牒选择器无效。

**原因：**

- 选择器不存在
- 选择器格式错误

**解决方案：**

- 使用有效的选择器名称
- 顶层章节：goals、constraints、progress
- 额外章节：查看差遣牒结构

### TASKDOC_UPDATE_FAILED

**描述：** 差遣牒更新失败。

**原因：**

- 写入权限问题
- 磁盘空间不足

**解决方案：**

- 检查磁盘空间
- 检查文件系统权限

## 常见问题

### Q: 提醒和记忆有什么区别？

A: 提醒（reminder）是会话级别的临时信息，对话结束后自动清除；记忆（memory）是持久化的，会保存到磁盘。

### Q: change_mind 会重置对话轮次吗？

A: 不会。`change_mind` 仅更新差遣牒内容，不重置对话轮次。

### Q: 差遣牒更新后立即对所有队友可见吗？

A: 是的，差遣牒更新后会立即对所有队友可见。

### Q: 可以读取其他人的差遣牒吗？

A: 可以，使用 `recall_taskdoc` 可以读取差遣牒章节内容。

### Q: 提醒有数量限制吗？

A: 没有严格限制，但建议保持提醒数量在合理范围内（建议少于 20 条）。

### Q: 如何查看当前所有提醒？

A: 智能体在生成回复时可以访问所有提醒。你可以直接询问智能体当前有哪些提醒。
