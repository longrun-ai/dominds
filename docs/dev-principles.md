# Dominds 开发原则

## 项目背景

Dominds 专为小规模LAN环境设计，支持最多3个用户同时使用。我们优先关注代码质量和用户体验，而非复杂的性能优化。这种专注让我们能够为特定场景提供最佳的开发体验。

## 核心开发原则

### 1. 简洁高效

- **代码可读性优先**: 注重代码清晰度和可维护性，而不是极致的性能优化
- **单一职责**: 保持组件职责单一，避免过度耦合
- **适度设计**: 使用简洁的设计模式，不为小规模需求引入不必要的复杂性

### 2. 避免过度工程化

- **适度架构**: 不为3个用户的设计需求引入企业级的架构复杂度
- **实用性优先**: 不需要虚拟滚动、大数据分页等复杂性能优化
- **核心聚焦**: 专注于核心功能的简洁实现

### 3. 用户体验导向

- **流畅交互**: 确保LAN环境中的界面响应速度和交互流畅性
- **优雅错误处理**: 提供清晰的用户反馈和错误处理机制
- **简洁设计**: 保持用户界面的直观性和易用性

## 重构与兼容性管理

### 兼容性包袱拖累原则

我们坚信不受兼容性包袱的拖累能够带来更快的创新和更清洁的代码库。

**核心准则**:

- **零技术债务**: 重构时彻底清理过时代码，不为兼容性保留多条实现路径
- **文档同步**: 代码变更时同步更新或删除不匹配的文档和注释
- **向前优先**: 优先采用当前最佳实践，而非维持向后兼容性
- **彻底清理**: 确保重构后代码库保持最新状态，无旧实现残留

### 重构执行准则

**功能等效性**: 新实现必须提供完全相同的功能，确保用户不受影响

- 移除不必要的抽象层和兼容层
- 更新所有相关配置文件
- 修改或删除过时的文档内容

**适用场景**:

- API重设计
- 架构升级
- 性能优化
- 安全性增强

## 错误处理与日志记录

### 基础错误处理原则

**错误对象传递**: 始终将错误对象作为第二个参数传递给日志函数
**上下文信息**: 日志消息应包含足够的上下文信息，便于调试
**分层处理**: 在业务逻辑层处理错误，而不是基础设施层

### API随时变更原则

**不依赖稳定性**: 代码实现不能假设现有API的稳定性
**用户指导**: 当API调用失败时，提供"请检查最新代码和文档"的明确指导
**配置验证**: 定期验证配置是否与最新API匹配

## 编码纪律

### 变更适应原则

**严格遵守随时变更原则**:

- 不依赖现有API的稳定性
- 所有实现必须基于最新代码
- 持续关注API变更和代码更新
- 快速适应技术栈的变化

### 质量保证

**代码质量标准**:

- 保持代码库的现代性和一致性
- 及时清理未使用的代码和依赖
- 确保测试覆盖率和代码质量
- 遵循项目的格式化规范

## ⚠️ 重要声明

> **不提供稳定性保证，API随时变更，请参考最新代码和文档**

> **不被兼容性包袱拖累** - 重构时不保留旧状态痕迹，彻底清理不匹配的代码和文档

> **编码纪律** - 严格遵守随时变更原则，不依赖现有API的稳定性，所有实现必须基于最新代码
